<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visage Animé Perlin</title>
    <!-- <link rel="icon" href="data:;base64,="> -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/utility.css">
    <script src="assets/js/anime.min.js"></script>

    <link rel="apple-touch-icon" sizes="152x152" href="assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="assets/favicon/site.webmanifest">
    <link rel="mask-icon" href="assets/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="assets/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="assets/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
</head>

<body>


    <span id="timer"></span>

    <button class="notifExport">...</button>

    <video id="preview" width="300" height="200" autoplay muted style="position: absolute; opacity: 0;"></video>
    <video id="recording" width="300" height="200" controls style="position: absolute; opacity: 0;"></video>


    <div class="main">
        <div class="header">
            <div>
                <div class="btnNone"><img src="assets/icons/visage-anime.png" alt=""></div>
                <button id="btnInfo" onclick="showInfoScreen()"><img src="assets/icons/info.svg" alt=""
                         style="filter: invert(47%) sepia(0%) saturate(112%) hue-rotate(282deg) brightness(100%) contrast(92%);"></button>
                <button id="btnTitles" onclick="showTitles()"><img src="assets/icons/title.svg" alt=""
                         style="filter: invert(47%) sepia(0%) saturate(112%) hue-rotate(282deg) brightness(100%) contrast(92%);"></button>
                <button id="btnBg" onclick="changeBg()"><img src="assets/icons/bg.svg" alt=""
                         style="filter: invert(47%) sepia(0%) saturate(112%) hue-rotate(282deg) brightness(100%) contrast(92%);display: inline-flex; align-items: center;">
                    <input type="color" id="colorPicker" value="#ffffff">
                </button>

            </div>

            <div>
                <button id="resetBtn" class="btnRed" onclick="showResetScreen()"><img src="assets/icons/trash.svg"
                         alt=""
                         style="filter: invert(39%) sepia(93%) saturate(535%) hue-rotate(324deg) brightness(105%) contrast(98%);">
                    <span>r</span></button>
                <button id="exportBtn" class="btnGreen" onclick="showExportScreen()"><img src="assets/icons/export.svg"
                         alt=""
                         style="filter: invert(25%) sepia(98%) saturate(6148%) hue-rotate(107deg) brightness(100%) contrast(103%);">
                    <span>e</span></button>
            </div>
        </div>

        <div class="content">
            <div class="gallery panel">

                <div class="galleryFace selectedFace" data-expresion="Neutre">
                    <img src="assets/images/neutre.png" alt="">
                    <span>Neutre</span>
                </div>

                <div class="galleryFace" data-expresion="Colere">
                    <img src="assets/images/colere.png" alt="">
                    <span>Colère</span>
                </div>

                <div class="galleryFace" data-expresion="Degout">
                    <img src="assets/images/degout.png" alt="">
                    <span>Dégoût</span>
                </div>

                <div class="galleryFace" data-expresion="Joie">
                    <img src="assets/images/joie.png" alt="">
                    <span>Joie</span>
                </div>

                <div class="galleryFace" data-expresion="Mepris">
                    <img src="assets/images/mepris.png" alt="">
                    <span>Mépris</span>
                </div>

                <div class="galleryFace" data-expresion="Peur">
                    <img src="assets/images/peur.png" alt="">
                    <span>Peur</span>
                </div>
                <div class="galleryFace" data-expresion="Sourire">
                    <img src="assets/images/sourire.png" alt="">
                    <span>Sourire</span>
                </div>

                <div class="galleryFace" data-expresion="Surprise">
                    <img src="assets/images/surprise.png" alt="">
                    <span>Surprise</span>
                </div>

                <div class="galleryFace" data-expresion="Tristesse">
                    <img src="assets/images/tristesse.png" alt="">
                    <span>Tristesse</span>
                </div>

                <div class="galleryFace" data-expresion="SourcilsMontees">
                    <img src="assets/images/sourcils-montees.png" alt="">
                    <span>Yeux écarquillés</span>
                </div>

                <div class="galleryFace" data-expresion="BoucheOuverte">
                    <img src="assets/images/bouche-ouverte.png" alt="">
                    <span>Bouche ouverte</span>
                </div>





            </div>

            <div class="preview">
                <div id="face">
                    <svg
                         height="100%"
                         viewBox="0 0 300 400"
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path id="cheveux"
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M 276.5 67 L 205.88 0 L 95.12 0 L 24.5 67 L 11.5 220 L 47.5 273 L 253.5 273 L 289.5 220 L 276.5 67 Z" />
                    </svg>
                    <svg
                         height="100%"
                         viewBox="0 0 300 400 "
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path id="visage"
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M 277.5 177 L 269.5 183 L 253.5 89 L 197.23 70.06 L 103.77 70.06 L 47.5 89 L 31.5 183 L 23.5 177 L 11.5 187 L 17.5 226 L 28.5 233 L 34.5 230 L 57.5 307 L 122.5 365 L 178.5 365 L 243.5 307 L 266.5 230 L 272.5 233 L 283.5 226 L 289.5 187 L 277.5 177 Z" />
                    </svg>

                    <svg
                         height="100%"
                         viewBox="0 0 300 400 "
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path id="sourcils"
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M 57.5 143 L 95.5 135 L 126.5 144 L 126.5 137 L 95.5 128 L 57.5 143 Z M 205.5 128 L 174.5 137 L 174.5 144 L 205.5 135 L 243.5 143 L 205.5 128 Z M 130.92 254.47 L 143.98 260.65 L 140.5 253 L 130.92 254.47 Z M 160.5 253 L 157.02 260.65 L 170.08 254.47 L 160.5 253 Z" />
                    </svg>
                    <svg
                         height="100%"
                         viewBox="0 0 300 400 "
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path id="nez"
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M 168.5 241 L 159.5 251 L 141.5 251 L 132.5 241 L 127.5 255 L 140.5 253 L 145.5 264 L 155.5 264 L 160.5 253 L 173.5 255 L 168.5 241 Z" />
                    </svg>
                    <svg
                         height="100%"
                         viewBox="0 0 300 400 "
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path id="blanc"
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M 66.5 182 L 94.5 191 L 120.5 182 L 94.5 172 L 66.5 182 Z M 206.5 172 L 180.5 182 L 206.5 191 L 234.5 182 L 206.5 172 Z" />
                    </svg>
                    <svg
                         height="100%"
                         viewBox="0 0 300 400 "
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path id="gorge"
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M 164.5 297 L 136.5 297 L 122.5 307 L 134.5 319 L 166.5 319 L 178.5 307 L 164.5 297 Z" />
                    </svg>
                    <svg
                         height="100%"
                         viewBox="0 0 300 400 "
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path id="dents"
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M 164.5 297 L 136.5 297 L 131.42 303.54 L 169.58 303.54 L 164.5 297 Z" />
                    </svg>
                    <svg
                         height="100%"
                         viewBox="0 0 300 400 "
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path id="iris"
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M 95 172 C 92.216 172 89.544 173.107 87.575 175.075 C 85.607 177.044 84.5 179.716 84.5 182.5 C 84.5 185.284 85.607 187.956 87.575 189.925 C 89.544 191.893 92.216 193 95 193 C 97.784 193 100.456 191.893 102.425 189.925 C 104.393 187.956 105.5 185.284 105.5 182.5 C 105.5 179.716 104.393 177.044 102.425 175.075 C 100.456 173.107 97.784 172 95 172 Z M 206 172 C 203.216 172 200.544 173.107 198.575 175.075 C 196.607 177.044 195.5 179.716 195.5 182.5 C 195.5 185.284 196.607 187.956 198.575 189.925 C 200.544 191.893 203.216 193 206 193 C 208.784 193 211.456 191.893 213.425 189.925 C 215.393 187.956 216.5 185.284 216.5 182.5 C 216.5 179.716 215.393 177.044 213.425 175.075 C 211.456 173.107 208.784 172 206 172 Z" />
                    </svg>
                    <svg
                         height="100%"
                         viewBox="0 0 300 400 "
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path id="pupille"
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M 95 177 C 93.542 177 92.142 177.58 91.111 178.611 C 90.08 179.642 89.5 181.042 89.5 182.5 C 89.5 183.958 90.08 185.358 91.111 186.389 C 92.142 187.42 93.542 188 95 188 C 96.458 188 97.858 187.42 98.889 186.389 C 99.92 185.358 100.5 183.958 100.5 182.5 C 100.5 181.042 99.92 179.642 98.889 178.611 C 97.858 177.58 96.458 177 95 177 Z M 206 177 C 204.542 177 203.142 177.58 202.111 178.611 C 201.08 179.642 200.5 181.042 200.5 182.5 C 200.5 183.958 201.08 185.358 202.111 186.389 C 203.142 187.42 204.542 188 206 188 C 207.458 188 208.858 187.42 209.889 186.389 C 210.92 185.358 211.5 183.958 211.5 182.5 C 211.5 181.042 210.92 179.642 209.889 178.611 C 208.858 177.58 207.458 177 206 177 Z" />
                    </svg>
                    <svg
                         height="100%"
                         viewBox="0 0 300 400 "
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path id="cacheOeil"
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M 59.01 206.66 L 129.01 206.66 L 129.01 156.66 L 59.01 156.66 L 59.01 206.66 Z M 94.5 172 L 120.5 182 L 94.5 191 L 66.5 182 L 94.5 172 Z M 171.99 156.66 L 171.99 206.66 L 241.99 206.66 L 241.99 156.66 L 171.99 156.66 Z M 206.5 191 L 180.5 182 L 206.5 172 L 234.5 182 L 206.5 191 Z" />
                    </svg>
                    <svg
                         height="100%"
                         viewBox="0 0 300 400 "
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path id="ombreSourcil"
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M 57.5 143 L 66.5 182 L 94.5 172 L 120.5 182 L 126.5 144 L 95.5 135 L 57.5 143 Z M 205.5 135 L 174.5 144 L 180.5 182 L 206.5 172 L 234.5 182 L 243.5 143 L 205.5 135 Z" />
                    </svg>
                    <svg
                         height="100%"
                         viewBox="0 0 300 400 "
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path id="contourOeil"
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M 94.5 191.75 C 94.42 191.75 94.35 191.74 94.27 191.71 L 66.27 182.71 C 65.96 182.61 65.75 182.33 65.75 182.01 C 65.75 181.69 65.95 181.4 66.25 181.29 L 94.25 171.29 C 94.42 171.23 94.6 171.23 94.77 171.29 L 120.77 181.29 C 121.06 181.4 121.26 181.69 121.25 182 C 121.24 182.31 121.04 182.59 120.75 182.7 L 94.75 191.7 C 94.67 191.73 94.59 191.74 94.5 191.74 Z M 68.83 181.96 L 94.49 190.21 L 118.31 181.96 L 94.49 172.8 L 68.83 181.96 Z M 206.5 191.75 C 206.42 191.75 206.33 191.74 206.25 191.71 L 180.25 182.71 C 179.95 182.61 179.75 182.33 179.75 182.01 C 179.75 181.69 179.94 181.41 180.23 181.3 L 206.23 171.3 C 206.4 171.24 206.58 171.23 206.75 171.3 L 234.75 181.3 C 235.05 181.41 235.25 181.7 235.25 182.02 C 235.25 182.34 235.04 182.62 234.73 182.72 L 206.73 191.72 C 206.66 191.74 206.58 191.76 206.5 191.76 Z M 182.69 181.96 L 206.51 190.21 L 232.17 181.96 L 206.51 172.8 L 182.69 181.96 Z" />
                    </svg>
                    <svg
                         height="100%"
                         viewBox="0 0 300 400 "
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path id="levresHaut"
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M 168.5 286 L 132.5 286 L 114.5 309 L 129.5 311 L 141.5 309 L 159.5 309 L 171.5 311 L 186.5 309 L 168.5 286 Z" />
                    </svg>

                    <svg
                         height="100%"
                         viewBox="0 0 300 400 "
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path id="levresBas"
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M 172.5 307 L 159.5 308 L 141.5 308 L 128.5 307 L 114.5 309 L 137.5 327 L 163.5 327 L 186.5 309 L 172.5 307 Z" />
                    </svg>

                </div>



                <div class="line">
                    <div class="dot"></div>
                </div>

                <div class="editor">

                    <div>
                        <div class="timeSelector">
                            <div><input type="number" inputmode="numeric" name="durationTransition"
                                       id="durationTransition"
                                       value="400"> ms
                            </div>
                        </div>
                        Transition
                    </div>

                    <button class="btnViolet" id="playBtn" onclick="playAnimation()">Visualiser<span
                              class="expsosant">espace</span></button>

                    <div>
                        <div class="timeSelector">
                            <div><input type="number" inputmode="numeric" name="durationPose" id="durationPose"
                                       value="800"> ms</div>
                        </div>
                        Pose
                    </div>



                </div>
            </div>


        </div>
    </div>

    <div id="exportScreen" class="floatingScreen">
        <div class="recapBlocs">
            <div>
                <span class="recapTitle">Emotion</span>
                <span id="actualExpression">Neutre</span>
            </div>
            <div>
                <span class="recapTitle">Transition</span>
                <span id="durationTransitionRecap">XXX</span>
            </div>
            <div>
                <span class="recapTitle">Pose</span>
                <span id="durationPoseRecap">XXX</span>
            </div>
            <div>
                <span class="recapTitle">Durée totale</span>
                <span id="durationAllRecap">XXX</span>
            </div>
        </div>
        <div>
            <button class="btnViolet" id="escapeBtnExport" onclick="hideScreen()">
                Fermer <span>esc</span></button>
            <button id="startButton" class="btnGreen">Exporter <span>↵</span></button>
        </div>

        <a id="downloadButton" class="button" style="display: none;">
            Download
        </a>

    </div>

    <div id="resetScreen" class="floatingScreen">
        Êtes-vous sûr de vouloir recommencer?
        <div>
            <button class="btnViolet" id="escapeBtnReset" onclick="hideScreen()">
                Non <span>esc</span></button>
            <a href="" id="btnReload"><button class="btnRed">
                    Oui <span>↵</span></button></a>
        </div>
    </div>

    <div id="infoScreen" class="floatingScreen">
        <img src="assets/icons/visage-anime.png" alt="" style="height: 40px;">

        <div>
            <p>Ce projet...</p>
            <div>
                <span>Doctorant</span>
                <b>Nolwen Berton</b>
            </div>

            <div>
                <span>Tuteur</span>
                <b>Luc Vandromme</b>
            </div>

            <div>
                <span>Dévélopement de l'outil web</span>
                <span><b>
                        <a href="https://pablo.energy">
                            Pablo Moreno</a></b>, reprennant le visage de <a href="http://kenperlin.com/face/">Ken
                        Perlin</a></span>
            </div>

        </div>

        <button class="btnViolet" id="infoBtnReset" onclick="hideScreen()">
            Fermer</button>

        <div style="    font-size: 80%; text-align: center;">

            <span style="line-height: 1.4;">Utilisez les navigateurs Chromium ou Chrome pour
                bénéficier de l'exportation
                en .mp4<br>Téléchargements à disposition: <a href="downloads/faces-final.zip">Ficher Illustrator</a>
                et <a href="downloads/visages-png.zip">Visages en png</a><br><a href="versions/index.html">Liste des
                    versions</a> · <a
                   href="https://github.com/saposabio23/face-tool">Source sur Github</a></span>

        </div>

    </div>

    <div class="no-phone">
        <img src="assets/icons/visage-anime.png" alt="" style="height: 40px;">
        Disponible sur ordinateur
    </div>


    <script src="assets/js/expressions.js"></script>
    <script src="assets/js/script.js"></script>
    <script src="assets/js/video.js"></script>

</body>

</html>